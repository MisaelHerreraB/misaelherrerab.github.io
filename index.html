<!DOCTYPE html>
<html>
<head>
  <link
      rel="stylesheet"
      href=
"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"/>
    <script src=
"https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js">
    </script>
    <script src=
"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js">
    </script>

</head>
<body>


<div class="container">
    
    <div class="row">
		<form role="form" class="col-md-9">
			<h2>Congreso Mundial</h2>
            <p>Generador de Fotochecks</p>
		<div class="form-group">
            <input type="text" id="nombres" class="form-control" placeholder="Nombres">
		</div>
        <div class="form-group">
            <input type="text" id="apellidos" class="form-control" placeholder="Apellidos">
        </div>

		<div class="form-group">
            Hotel?
<div class="form-check form-check-inline">
  <input class="form-check-input" type="radio" name="isDiscounted" id="isDiscounted" value= 0 checked>
  <label class="form-check-label" for="inlineRadio1">Si</label>
</div>
<div class="form-check form-check-inline">
  <input class="form-check-input" type="radio" name="isDiscounted" id="isNotDiscounted" value= 1>
  <label class="form-check-label" for="inlineRadio2">No</label>
</div>
<!-- 
<input id="isDiscounted" name="isDiscounted" class="form-control" type="radio" value= 0 checked> Si 
<input id="isNotDiscounted" name="isDiscounted" class="form-control" type="radio" value= 1 > No
-->
		</div>
		<div class="form-group">
            <input type="text" id="hotel" class="form-control" placeholder="Nombre del Hotel">
		</div>
            <div class="text-center">
                <p><button class="btn btn-info btn-block rounded-0 py-2" onclick="draw()">Descargar</button></p>
            </div>
		</form>

<div class="row" col-md-3>
    <br>
    <br>
     <img id="scream" src="https://misaelherrerab.github.io/assets/imagenbase.jpg" alt="The Scream" width="220" height="277" >
</div>

	</div>
</div>


<canvas id="myCanvas" width="1917" height="2809" style="border:1px solid grey" hidden></canvas>

<script>
var discounted = document.getElementById('isDiscounted');
var no_discounted = document.getElementById('isNotDiscounted')
var hotel_in = document.getElementById('hotel')

function updateStatus() {
  if (discounted.checked) {
    hotel_in.disabled = false;
  } else {
    hotel_in.disabled = true;
  }
}

discounted.addEventListener('change', updateStatus)
no_discounted.addEventListener('change', updateStatus)





window.addEventListener("load", draw1, true);
function draw1() {
    const c = document.getElementById("myCanvas");
    const ctx = c.getContext("2d");
    let image = new Image()
    image.crossOrigin = "anonymous";
    image.src = 'https://misaelherrerab.github.io/assets/imagenbase.jpg';
    image.onload = function(){
        ctx.drawImage(image, 0, 0);        
    };
  }


function draw() {
    const c = document.getElementById("myCanvas");
    const ctx = c.getContext("2d");

    var discounted = document.getElementById('isDiscounted');
    if (discounted.checked) {
        var nombres = document.getElementById("nombres").value;
        ctx.font = "bold 110px ArialMT";
        ctx.textAlign = 'center';
        ctx.fillText(nombres,958,1050);
    
        var apellidos = document.getElementById("apellidos").value;
        ctx.font = "110px ArialMT";
        ctx.textAlign = 'center';
        ctx.fillText(apellidos,958,1200);
      
        var hotel = document.getElementById("hotel").value;
        ctx.font = "110px ArialMT";
        ctx.textAlign = 'center';
        ctx.fillText(hotel,958,1550);

        ctx.font = "bold 110px ArialMT";
        ctx.textAlign = 'center';
        ctx.fillText("HOTEL",958,1700);
    } else {
        var nombres = document.getElementById("nombres").value;
        ctx.font = "bold 110px ArialMT";
        ctx.textAlign = 'center';
        ctx.fillText(nombres,958,1350);
    
        var apellidos = document.getElementById("apellidos").value;
        ctx.font = "110px ArialMT";
        ctx.textAlign = 'center';
        ctx.fillText(apellidos,958,1500);
    }

    const link = document.createElement("a");
    link.download = "imagen-editada.jpg";
    link.href = c.toDataURL("image/jpg", 1.0).replace("image/jpg", "image/octet-stream");
    link.click();
    window.location.reload();
  }
</script>

</body>
</html>
