<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Congreso Mundial - Generador de Fotochecks</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .main-container {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            padding: 30px;
            margin: 20px 0;
        }
        .form-section {
            margin-bottom: 30px;
        }
        .preview-section {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 300px;
        }
        .preview-image {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        @media (max-width: 768px) {
            .main-container {
                margin: 10px;
                padding: 20px;
            }
            .preview-section {
                margin-top: 30px;
            }
        }
        @media (max-width: 576px) {
            .main-container {
                margin: 5px;
                padding: 15px;
            }
            h2 {
                font-size: 1.5rem;
            }
        }
        #myCanvas {
            max-width: 100%;
            height: auto;
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <div class="row justify-content-center">
            <div class="col-12 col-lg-10 col-xl-8">
                <div class="main-container">
                    <div class="row">
                        <!-- Formulario -->
                        <div class="col-12 col-lg-8">
                            <div class="form-section">
                                <h2 class="text-center text-lg-start mb-3">Congreso Mundial</h2>
                                <p class="text-center text-lg-start text-muted mb-4">Generador de Fotochecks</p>
                                
                                <form role="form">
                                    <div class="mb-3">
                                        <input type="text" id="nombres" class="form-control form-control-lg" placeholder="Nombres">
                                    </div>
                                    
                                    <div class="mb-3">
                                        <input type="text" id="apellidos" class="form-control form-control-lg" placeholder="Apellidos">
                                    </div>

                                    <div class="mb-3">
                                        <label class="form-label fw-bold">¿Hotel?</label>
                                        <div class="d-flex gap-3">
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="isDiscounted" id="isDiscounted" value="0" checked>
                                                <label class="form-check-label" for="isDiscounted">Sí</label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="isDiscounted" id="isNotDiscounted" value="1">
                                                <label class="form-check-label" for="isNotDiscounted">No</label>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="mb-4">
                                        <input type="text" id="hotel" class="form-control form-control-lg" placeholder="Nombre del Hotel">
                                    </div>
                                    
                                    <div class="d-grid">
                                        <button type="button" class="btn btn-primary btn-lg" onclick="draw()">Descargar Fotocheck</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                        
                        <!-- Preview -->
                        <div class="col-12 col-lg-4">
                            <div class="preview-section">
                                <img id="scream" src="https://misaelherrerab.github.io/assets/imagenbase.jpg" alt="Preview" class="preview-image">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <canvas id="myCanvas" width="1917" height="2809" style="border:1px solid grey; max-width: 100%; height: auto;" hidden></canvas>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
var discounted = document.getElementById('isDiscounted');
var no_discounted = document.getElementById('isNotDiscounted')
var hotel_in = document.getElementById('hotel')

function updateStatus() {
  if (discounted.checked) {
    hotel_in.disabled = false;
  } else {
    hotel_in.disabled = true;
  }
}

discounted.addEventListener('change', updateStatus)
no_discounted.addEventListener('change', updateStatus)





window.addEventListener("load", draw1, true);
function draw1() {
    const c = document.getElementById("myCanvas");
    const ctx = c.getContext("2d");
    let image = new Image()
    image.crossOrigin = "anonymous";
    image.src = 'https://misaelherrerab.github.io/assets/imagenbase.jpg';
    image.onload = function(){
        ctx.drawImage(image, 0, 0);        
    };
  }


function draw() {
    const c = document.getElementById("myCanvas");
    const ctx = c.getContext("2d");

    var discounted = document.getElementById('isDiscounted');
    if (discounted.checked) {
        var nombres = document.getElementById("nombres").value;
        ctx.font = "bold 110px ArialMT";
        ctx.textAlign = 'center';
        ctx.fillText(nombres,958,1050);
    
        var apellidos = document.getElementById("apellidos").value;
        ctx.font = "110px ArialMT";
        ctx.textAlign = 'center';
        ctx.fillText(apellidos,958,1200);
      
        var hotel = document.getElementById("hotel").value;
        ctx.font = "110px ArialMT";
        ctx.textAlign = 'center';
        ctx.fillText(hotel,958,1550);

        ctx.font = "bold 110px ArialMT";
        ctx.textAlign = 'center';
        ctx.fillText("HOTEL",958,1700);
    } else {
        var nombres = document.getElementById("nombres").value;
        ctx.font = "bold 110px ArialMT";
        ctx.textAlign = 'center';
        ctx.fillText(nombres,958,1350);
    
        var apellidos = document.getElementById("apellidos").value;
        ctx.font = "110px ArialMT";
        ctx.textAlign = 'center';
        ctx.fillText(apellidos,958,1500);
    }

    const link = document.createElement("a");
    link.download = "imagen-editada.jpg";
    link.href = c.toDataURL("image/jpg", 1.0).replace("image/jpg", "image/octet-stream");
    link.click();
    window.location.reload();
  }
</script>

</body>
</html>
